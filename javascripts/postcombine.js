
/*! Related Post Widget for Blogger by Taufik Nurrohman => http://gplus.to/tovic */
var randomRelatedIndex,showRelatedPost;!function(e,t,a){var n={widgetTitle:"<h2>Related:</h2>",widgetStyle:2,homePage:"",numPosts:3,titleLength:"auto",thumbnailSize:70,noImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAA3NCSVQICAjb4U/gAAAADElEQVQImWOor68HAAL+AX7vOF2TAAAAAElFTkSuQmCC",containerId:"related-post",newTabLink:!1,callBack:function(){}};for(var l in relatedPostConfig)n[l]="undefined"==relatedPostConfig[l]?n[l]:relatedPostConfig[l];var r=function(e){var n=t.createElement("script");n.type="text/javascript",n.async="true",n.src=e,a.appendChild(n)},i=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},o=function(e){var t,a,n=e.length;if(0===n)return!1;for(;--n;)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e},s="object"==typeof labelArray&&labelArray.length>0?"/-/"+o(labelArray)[0]:"",d=function(e){var t=e.feed.openSearch$totalResults.$t-n.numPosts,a=i(1,t>0?t:1);r(n.homePage.replace(/\/$/,"")+"/feeds/posts/summary"+s+"?alt=json-in-script&orderby=updated&start-index="+a+"&max-results="+n.numPosts+"&callback=showRelatedPost")},m=function(e){var t,a,l,r,i=document.getElementById(n.containerId),s=o(e.feed.entry),d=n.widgetStyle,m=n.widgetTitle+'<ul class="related-post-style-'+d+'">',u=n.newTabLink?' target="_blank"':"",c='<span style="display:block;clear:both;"></span>';if(i){for(var h=0;h<n.numPosts&&h!=s.length;h++){a=s[h].title.$t,l="auto"!==n.titleLength&&n.titleLength<a.length?a.substring(0,n.titleLength)+"&hellip;":a,r="media$thumbnail"in s[h]&&n.thumbnailSize!==!1?s[h].media$thumbnail.url.replace(/\/s[0-9]+(\-c)?/,"/s"+n.thumbnailSize+"-c"):n.noImage;for(var A=0,g=s[h].link.length;g>A;A++)t="alternate"==s[h].link[A].rel?s[h].link[A].href:"#";2==d&&(m+='<li><img alt="" class="related-post-item-thumbnail" src="'+r+'" width="'+n.thumbnailSize+'" height="'+n.thumbnailSize+'"><span><a class="related-post-item-title" title="'+a+'" href="'+t+'"'+u+">"+l+"</a></span>"+c+"</li>")}i.innerHTML=m+="</ul>"+c,n.callBack()}};randomRelatedIndex=d,showRelatedPost=m,r(n.homePage.replace(/\/$/,"")+"/feeds/posts/summary"+s+"?alt=json-in-script&orderby=updated&max-results=17&callback=randomRelatedIndex")}(window,document,document.getElementsByTagName("head")[0]);
